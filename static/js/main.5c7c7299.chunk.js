(this["webpackJsonpvaccine-passport"]=this["webpackJsonpvaccine-passport"]||[]).push([[0],{25:function(e,t,n){},47:function(e,t,n){},49:function(e,t,n){},50:function(e,t,n){},52:function(e,t,n){},53:function(e,t,n){},64:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),s=n(23),r=n.n(s),i=(n(47),n(9)),o=n.n(i),l=n(17),j=n(8),d=n(15),u=(n(49),n(7)),b=(n(50),n(1));function h(){return Object(b.jsx)("div",{className:"Home",children:Object(b.jsxs)("div",{className:"lander",children:[Object(b.jsx)("h1",{children:"Vaccine Passport Portal"}),Object(b.jsx)("p",{className:"text-muted",children:"Search for others' passports or log in to view your own passport."})]})})}n(52);function p(){return Object(b.jsx)("div",{className:"NotFound text-center",children:Object(b.jsx)("h3",{children:"Sorry, page not found!"})})}var O=n(6),x=n(24),g=n(42),v=n(39),m=n(41);n(53);function f(e){var t=e.isLoading,n=e.className,a=void 0===n?"":n,c=e.disabled,s=void 0!==c&&c,r=Object(g.a)(e,["isLoading","className","disabled"]);return Object(b.jsxs)(v.a,Object(x.a)(Object(x.a)({disabled:s||t,className:"LoaderButton ".concat(a)},r),{},{children:[t&&Object(b.jsx)(m.a,{className:"spinning"}),r.children]}))}var S=Object(a.createContext)(null);function y(e){var t=e.toString();e instanceof Error||!e.message||(t=e.message),alert(t)}n(25);function C(){var e=Object(u.k)(),t=Object(a.useContext)(S).userHasAuthenticated,n=Object(a.useState)(!1),c=Object(j.a)(n,2),s=c[0],r=c[1],i=Object(a.useState)(""),d=Object(j.a)(i,2),h=d[0],p=d[1],x=Object(a.useState)(""),g=Object(j.a)(x,2),v=g[0],m=g[1];function C(){return(C=Object(l.a)(o.a.mark((function n(a){var c,s;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a.preventDefault(),r(!0),n.prev=2,n.next=5,fetch("http://localhost:8081/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({authenticatedUser:h})});case 5:return c=n.sent,n.next=8,c.text();case 8:s=n.sent,console.log(s),sessionStorage.setItem("username",h),sessionStorage.setItem("password",v),sessionStorage.setItem("userType",s),"client"===s?(t(!0),e.push("/"),console.log("client")):"admin"===s&&(t(!0),e.push("/"),console.log("admin")),n.next=20;break;case 16:n.prev=16,n.t0=n.catch(2),y(n.t0),r(!1);case 20:case"end":return n.stop()}}),n,null,[[2,16]])})))).apply(this,arguments)}return Object(a.useEffect)((function(){var e=sessionStorage.getItem("username");if(e){"generalUser"!==e&&p(e)}}),[]),Object(b.jsx)("div",{className:"Login",children:Object(b.jsxs)(O.a,{onSubmit:function(e){return C.apply(this,arguments)},children:[Object(b.jsxs)(O.a.Group,{size:"lg",controlId:"username",children:[Object(b.jsx)(O.a.Label,{children:"Username"}),Object(b.jsx)(O.a.Control,{autoFocus:!0,type:"username",value:h,onChange:function(e){var t=e.target;return p(t.value)}})]}),Object(b.jsxs)(O.a.Group,{size:"lg",controlId:"password",children:[Object(b.jsx)(O.a.Label,{children:"Password"}),Object(b.jsx)(O.a.Control,{type:"password",value:v,onChange:function(e){var t=e.target;return m(t.value)}})]}),Object(b.jsx)(f,{block:!0,size:"lg",type:"submit",isLoading:s,disabled:!(h.length>0&&v.length>0),children:"Login"})]})})}var L=n(27);function k(e){var t=Object(a.useState)(e),n=Object(j.a)(t,2),c=n[0],s=n[1];return[c,function(e){s(Object(x.a)(Object(x.a)({},c),{},Object(L.a)({},e.target.id,e.target.value)))}]}function I(){var e=Object(a.useState)(!1),t=Object(j.a)(e,2),n=t[0],c=t[1],s=k({authenticatedUser:"",targetUser:""}),r=Object(j.a)(s,2),i=r[0],d=r[1];function u(){return(u=Object(l.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),c(!0),e.prev=2,e.next=5,fetch("http://localhost:8081/readPassport",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({authenticatedUser:sessionStorage.getItem("username"),targetUser:i.targetUser})});case 5:return n=e.sent,e.next=8,n.text();case 8:n=e.sent,console.log(n),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),y(e.t0),c(!1);case 16:case"end":return e.stop()}}),e,null,[[2,12]])})))).apply(this,arguments)}return Object(b.jsx)("div",{className:"Read",children:Object(b.jsxs)(O.a,{onSubmit:function(e){return u.apply(this,arguments)},children:[Object(b.jsxs)(O.a.Group,{size:"lg",controlId:"targetUser",children:[Object(b.jsx)(O.a.Label,{children:"User ID"}),Object(b.jsx)(O.a.Control,{autoFocus:!0,type:"targetUser",value:i.targetUser,onChange:d})]}),Object(b.jsx)(f,{block:!0,size:"lg",type:"submit",isLoading:n,disabled:!1,children:"Read Passport"})]})})}var w=n(22),D=n.n(w);!function(){var e=D.a.get("session");void 0===e||JSON.parse(e)}();function N(){var e=Object(a.useState)(!1),t=Object(j.a)(e,2),n=t[0],c=t[1],s=k({authenticatedUser:"",userID:"",owner:"",vaccineBrand:"",vaccineSite:"",vaccineDate:""}),r=Object(j.a)(s,2),i=r[0],d=r[1];function u(){return(u=Object(l.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),c(!0),e.prev=2,e.next=5,fetch("http://localhost:8081/createPassport",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({authenticatedUser:sessionStorage.getItem("username"),userID:i.userID,owner:i.owner,vaccineBrand:i.vaccineBrand,vaccineSite:i.vaccineSite,vaccineDate:i.vaccineDate})});case 5:return n=e.sent,e.next=8,n.text();case 8:n=e.sent,console.log(n),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),y(e.t0),c(!1);case 16:case"end":return e.stop()}}),e,null,[[2,12]])})))).apply(this,arguments)}return Object(b.jsx)("div",{className:"Create",children:Object(b.jsxs)(O.a,{onSubmit:function(e){return u.apply(this,arguments)},children:[Object(b.jsxs)(O.a.Group,{size:"lg",controlId:"userID",children:[Object(b.jsx)(O.a.Label,{children:"User ID"}),Object(b.jsx)(O.a.Control,{autoFocus:!0,type:"userID",value:i.userID,onChange:d})]}),Object(b.jsxs)(O.a.Group,{size:"lg",controlId:"owner",children:[Object(b.jsx)(O.a.Label,{children:"Full Name"}),Object(b.jsx)(O.a.Control,{type:"owner",value:i.owner,onChange:d})]}),Object(b.jsxs)(O.a.Group,{size:"lg",controlId:"vaccineBrand",children:[Object(b.jsx)(O.a.Label,{children:"Vaccine Brand"}),Object(b.jsx)(O.a.Control,{type:"vaccineBrand",value:i.vaccineBrand,onChange:d})]}),Object(b.jsxs)(O.a.Group,{size:"lg",controlId:"vaccineSite",children:[Object(b.jsx)(O.a.Label,{children:"Vaccine Site"}),Object(b.jsx)(O.a.Control,{type:"vaccineSite",value:i.vaccineSite,onChange:d})]}),Object(b.jsxs)(O.a.Group,{size:"lg",controlId:"vaccineDate",children:[Object(b.jsx)(O.a.Label,{children:"Vaccine Date"}),Object(b.jsx)(O.a.Control,{type:"vaccineDate",value:i.vaccineDate,onChange:d})]}),Object(b.jsx)(f,{block:!0,size:"lg",type:"submit",isLoading:n,disabled:!1,children:"Create Passport"})]})})}function P(){var e=Object(a.useState)(!1),t=Object(j.a)(e,2),n=t[0],c=t[1],s=k({authenticatedUser:"",userID:"",vaccineSite2:"",vaccineDate2:""}),r=Object(j.a)(s,2),i=r[0],d=r[1];function u(){return(u=Object(l.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),c(!0),e.prev=2,e.next=5,fetch("http://localhost:8081/updatePassport",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({authenticatedUser:sessionStorage.getItem("username"),userID:i.userID,vaccineSite2:i.vaccineSite2,vaccineDate2:i.vaccineDate2})});case 5:return n=e.sent,e.next=8,n.text();case 8:n=e.sent,console.log(n),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),y(e.t0),c(!1);case 16:case"end":return e.stop()}}),e,null,[[2,12]])})))).apply(this,arguments)}return Object(b.jsx)("div",{className:"Update",children:Object(b.jsxs)(O.a,{onSubmit:function(e){return u.apply(this,arguments)},children:[Object(b.jsxs)(O.a.Group,{size:"lg",controlId:"userID",children:[Object(b.jsx)(O.a.Label,{children:"User ID"}),Object(b.jsx)(O.a.Control,{autoFocus:!0,type:"userID",value:i.userID,onChange:d})]}),Object(b.jsxs)(O.a.Group,{size:"lg",controlId:"vaccineSite2",children:[Object(b.jsx)(O.a.Label,{children:"Second Vaccine Site"}),Object(b.jsx)(O.a.Control,{autoFocus:!0,type:"vaccineSite2",value:i.vaccineSite2,onChange:d})]}),Object(b.jsxs)(O.a.Group,{size:"lg",controlId:"vaccineDate2",children:[Object(b.jsx)(O.a.Label,{children:"Second Vaccine Date"}),Object(b.jsx)(O.a.Control,{autoFocus:!0,type:"vaccineDate2",value:i.vaccineDate2,onChange:d})]}),Object(b.jsx)(f,{block:!0,size:"lg",type:"submit",isLoading:n,disabled:!1,children:"Update Passport"})]})})}function U(){return Object(b.jsxs)(u.g,{children:["/* homepage */",Object(b.jsx)(u.d,{exact:!0,path:"/vaccine-passport",children:Object(b.jsx)(h,{})}),"/* login page */",Object(b.jsx)(u.d,{exact:!0,path:"/vaccine-passport/login",children:Object(b.jsx)(C,{})}),"/* create page */",Object(b.jsx)(u.d,{exact:!0,path:"/vaccine-passport/createPassport",children:Object(b.jsx)(N,{})}),"/* search page */",Object(b.jsx)(u.d,{exact:!0,path:"/vaccine-passport/readPassport",children:Object(b.jsx)(I,{})}),"/* update page */",Object(b.jsx)(u.d,{exact:!0,path:"/vaccine-passport/updatePassport",children:Object(b.jsx)(P,{})}),Object(b.jsx)(u.d,{children:Object(b.jsx)(p,{})})]})}var F=n(11),z=n(13);var T=function(){var e=Object(u.k)(),t=Object(a.useState)(!0),n=Object(j.a)(t,2),c=n[0],s=n[1],r=Object(a.useState)(!1),i=Object(j.a)(r,2),h=i[0],p=i[1];function O(){return(O=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{sessionStorage.getItem("username")?p(!0):(p(!1),sessionStorage.setItem("username","generalUser"))}catch(t){"No current user"!==t&&y(t)}s(!1);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(){return g.apply(this,arguments)}function g(){return(g=Object(l.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:p(!1),e.push("/login");case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}Object(a.useEffect)((function(){!function(){O.apply(this,arguments)}()}),[]);var v=sessionStorage.getItem("userType");return"client"===v?!c&&Object(b.jsxs)("div",{className:"App container py-3",children:[Object(b.jsxs)(d.a,{collapseOnSelect:!0,bg:"light",expand:"md",className:"mb-3",children:[Object(b.jsx)(z.LinkContainer,{to:"/",children:Object(b.jsx)(d.a.Brand,{className:"font-weight-bold text-muted"})}),Object(b.jsx)(d.a.Toggle,{}),Object(b.jsx)(d.a.Collapse,{className:"justify-content-end",children:Object(b.jsx)(F.a,{activeKey:window.location.pathname,children:h?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(F.a.Link,{onClick:x,children:"Logout"}),Object(b.jsx)(z.LinkContainer,{to:"/",children:Object(b.jsx)(F.a.Link,{children:"Home"})}),Object(b.jsx)(z.LinkContainer,{to:"/readPassport",children:Object(b.jsx)(F.a.Link,{children:"Search"})})]}):Object(b.jsx)(b.Fragment,{children:Object(b.jsx)(z.LinkContainer,{to:"/login",children:Object(b.jsx)(F.a.Link,{children:"Login"})})})})})]}),Object(b.jsx)(S.Provider,{value:{isAuthenticated:h,userHasAuthenticated:p},children:Object(b.jsx)(U,{})})]}):"admin"===v?!c&&Object(b.jsxs)("div",{className:"App container py-3",children:[Object(b.jsxs)(d.a,{collapseOnSelect:!0,bg:"light",expand:"md",className:"mb-3",children:[Object(b.jsx)(z.LinkContainer,{to:"/",children:Object(b.jsx)(d.a.Brand,{className:"font-weight-bold text-muted"})}),Object(b.jsx)(d.a.Toggle,{}),Object(b.jsx)(d.a.Collapse,{className:"justify-content-end",children:Object(b.jsx)(F.a,{activeKey:window.location.pathname,children:h?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(F.a.Link,{onClick:x,children:"Logout"}),Object(b.jsx)(z.LinkContainer,{to:"/",children:Object(b.jsx)(F.a.Link,{children:"Home"})}),Object(b.jsx)(z.LinkContainer,{to:"/readPassport",children:Object(b.jsx)(F.a.Link,{children:"Search"})}),Object(b.jsx)(z.LinkContainer,{to:"/createPassport",children:Object(b.jsx)(F.a.Link,{children:"Create Passport"})}),Object(b.jsx)(z.LinkContainer,{to:"/updatePassport",children:Object(b.jsx)(F.a.Link,{children:"Update Passport"})})]}):Object(b.jsx)(b.Fragment,{children:Object(b.jsx)(z.LinkContainer,{to:"/login",children:Object(b.jsx)(F.a.Link,{children:"Login"})})})})})]}),Object(b.jsx)(S.Provider,{value:{isAuthenticated:h,userHasAuthenticated:p},children:Object(b.jsx)(U,{})})]}):!c&&Object(b.jsxs)("div",{className:"App container py-3",children:[Object(b.jsxs)(d.a,{collapseOnSelect:!0,bg:"light",expand:"md",className:"mb-3",children:[Object(b.jsx)(z.LinkContainer,{to:"/",children:Object(b.jsx)(d.a.Brand,{className:"font-weight-bold text-muted"})}),Object(b.jsx)(d.a.Toggle,{}),Object(b.jsx)(d.a.Collapse,{className:"justify-content-end",children:Object(b.jsx)(F.a,{activeKey:window.location.pathname,children:Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(z.LinkContainer,{to:"/login",children:Object(b.jsx)(F.a.Link,{children:"Login"})}),Object(b.jsx)(z.LinkContainer,{to:"/readPassport",children:Object(b.jsx)(F.a.Link,{children:"Search"})})]})})})]}),Object(b.jsx)(S.Provider,{value:{isAuthenticated:h,userHasAuthenticated:p},children:Object(b.jsx)(U,{})})]})},B=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,66)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),a(e),c(e),s(e),r(e)}))},G=n(18);r.a.render(Object(b.jsx)(c.a.StrictMode,{children:Object(b.jsx)(G.BrowserRouter,{children:Object(b.jsx)(T,{})})}),document.getElementById("root")),B()}},[[64,1,2]]]);
//# sourceMappingURL=main.5c7c7299.chunk.js.map